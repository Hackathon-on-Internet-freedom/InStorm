/*! terminal.js v2.0 | (c) 2014 Erik Ã–sterberg | https://github.com/eosterberg/terminaljs */

var Terminal=function(){var e,h=function(t,i){var e=i._cursor;setTimeout(function(){t.parentElement&&i._shouldBlinkCursor?(e.style.visibility="visible"===e.style.visibility?"hidden":"visible",h(t,i)):e.style.visibility="visible"},500)},i=!0;promptInput=function(e,t,n,s){var o=1===n,u=document.createElement("input");u.style.position="absolute",u.style.zIndex="-100",u.style.outline="none",u.style.border="none",u.style.opacity="0",u.style.fontSize="0.2em",e._inputLine.textContent="",e._input.style.display="block",e.html.appendChild(u),h(u,e),t.length&&e.print(3===n?t+" (y/n)":t),u.onblur=function(){e._cursor.style.display="none"},u.onfocus=function(){u.value=e._inputLine.textContent,e._cursor.style.display="inline"},e.html.onclick=function(){u.focus()},u.onkeydown=function(t){37===t.which||39===t.which||38===t.which||40===t.which||9===t.which?t.preventDefault():o&&13!==t.which&&setTimeout(function(){e._inputLine.textContent=u.value},1)},u.onkeyup=function(t){var i;3!==n&&13!==t.which||(e._input.style.display="none",i=u.value,o&&e.print(i),e.html.removeChild(u),"function"==typeof s&&s(3===n?"Y"===i.toUpperCase()[0]:i))},i?(i=!1,setTimeout(function(){u.focus()},50)):u.focus()};return function(t){var i;e||(i='<source src="http://www.erikosterberg.com/terminaljs/beep.',(e=document.createElement("audio")).innerHTML=i+'mp3" type="audio/mpeg">'+i+'ogg" type="audio/ogg">',e.volume=.05),this.html=document.createElement("div"),this.html.className="Terminal","string"==typeof t&&(this.html.id=t),this._innerWindow=document.createElement("div"),this._output=document.createElement("p"),this._inputLine=document.createElement("span"),this._cursor=document.createElement("span"),this._input=document.createElement("p"),this._shouldBlinkCursor=!0,this.beep=function(){e.load(),e.play()},this.print=function(t){var i=document.createElement("div");i.textContent=t,this._output.appendChild(i)},this.input=function(t,i){promptInput(this,t,1,i)},this.password=function(t,i){promptInput(this,t,2,i)},this.confirm=function(t,i){promptInput(this,t,3,i)},this.clear=function(){this._output.innerHTML=""},this.sleep=function(t,i){setTimeout(i,t)},this.setTextSize=function(t){this._output.style.fontSize=t,this._input.style.fontSize=t},this.setTextColor=function(t){this.html.style.color=t,this._cursor.style.background=t},this.setBackgroundColor=function(t){this.html.style.background=t},this.setWidth=function(t){this.html.style.width=t},this.setHeight=function(t){this.html.style.height=t},this.blinkingCursor=function(t){t=t.toString().toUpperCase(),this._shouldBlinkCursor="TRUE"===t||"1"===t||"YES"===t},this._input.appendChild(this._inputLine),this._input.appendChild(this._cursor),this._innerWindow.appendChild(this._output),this._innerWindow.appendChild(this._input),this.html.appendChild(this._innerWindow),this.setBackgroundColor("black"),this.setTextColor("white"),this.setTextSize("1em"),this.setWidth("100%"),this.setHeight("100%"),this.html.style.fontFamily="Monaco, Courier",this.html.style.margin="0",this._innerWindow.style.padding="10px",this._input.style.margin="0",this._output.style.margin="0",this._cursor.style.background="white",this._cursor.innerHTML="C",this._cursor.style.display="none",this._input.style.display="none"}}();